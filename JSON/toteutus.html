<!doctype html>
<html lang="fi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tehtävä 1 OSA II — Digitekniikat</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --tausta:#f6f8ff; 
      --teksti:#0f172a; 
      --korostus:#7c3aed; 
      --korostus-2:#06b6d4;
      --reuna:#e5e7eb;
      --kortti:#ffffff;
      --varjo:0 8px 28px rgba(2,6,23,0.08);
    }
    *{box-sizing:border-box}
    html,body{margin:0; padding:0}
    body{
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; 
      background: radial-gradient(1200px 600px at 20% -10%, #eef2ff 0%, transparent 60%), var(--tausta);
      color:var(--teksti);
      line-height:1.6;
    }

    /* Yläpalkki */
    header{position:sticky; top:0; background:#ffffffcc; backdrop-filter:blur(8px); border-bottom:1px solid var(--reuna); z-index:10}
    .nav{max-width:1000px; margin:0 auto; padding:12px 16px; display:flex; align-items:center; justify-content:space-between; gap:12px}
    .logo{font-family:Poppins, Inter, sans-serif; font-weight:600; color:var(--korostus)}
    nav ul{list-style:none; margin:0; padding:0; display:flex; flex-wrap:wrap; gap:8px}
    nav a{display:inline-block; padding:8px 12px; border:1px solid var(--reuna); border-radius:10px; text-decoration:none; color:var(--teksti); background:white; font-size:14px; transition:transform .08s ease, background .2s ease, border-color .2s ease}
    nav a:hover, nav a:focus{border-color:var(--korostus); background:#f8f5ff; transform:translateY(-1px); outline:none}

    /* Pääsisältö */
    main{max-width:1000px; margin:24px auto; padding:24px; background:var(--kortti); border:1px solid var(--reuna); border-radius:16px; box-shadow:var(--varjo); animation:fadeIn .25s ease}
    @keyframes fadeIn{from{opacity:0; transform:translateY(4px)} to{opacity:1; transform:translateY(0)}}

    /* Media (kuva + kuvateksti) */
    .media{margin:12px auto 20px; max-width:640px}
    .media img{display:block; margin:0 auto; max-width:100%; border-radius:14px; box-shadow:0 6px 20px rgba(2,6,23,0.08)}
    .credit{margin-top:8px; font-size:12px; color:#64748b; text-align:center}
    .credit a{color:inherit; text-decoration:underline}

    /* Pienet tietolaatikot */
    .meta{display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:12px; margin:12px 0}
    .box{border:1px solid var(--reuna); border-radius:12px; padding:12px 14px; background:linear-gradient(0deg,#f9fafb, #ffffff)}
    .box b{display:block; color:#334155; margin-bottom:4px}

    /* Lista osallistujista */
    #vastaus ul{margin:8px 0 0 18px}

    /* Pieni alatunniste */
    footer{max-width:1000px; margin:0 auto 40px; text-align:center; color:#475569}
  </style>
</head>
<body>
  <header>
    <div class="nav">
      <div class="logo">JSON Tehtävä</div>
      <nav aria-label="Päävalikko">
        <ul>
          <li><a href="index.html">Etusivu (Tehtävä 1 OSA I)</a></li>
          <li><a href="toteutus.html">Tehtävä 1 OSA II</a></li>
          <li><a href="pokehaku.html">Poke haku (Tehtävä 2 OSAT I & II)</a></li>
          <li><a href="saa.html">Tehtävä 3 (SÄÄ)</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <div id="vastaus"><p>Ladataan toteutuksen tietoja…</p></div>
  </main>

  <footer style="max-width:1000px; margin:0 auto 40px; text-align:center; color:#475569">
    <small>© 2025 JSON-harjoitukset.</small>
  </footer>

  <script>
    // Haetaan tiedot palvelimelta (samasta kansiosta oleva JSON)
    fetch('toteutus.JSON')
      .then(function(response){ return response.json(); })
      .then(function(data){ kerro(data); })
      .catch(function(){ document.getElementById('vastaus').innerHTML = '<p>Tietoa ei pystytä hakemaan</p>'; });

    function kerro(obj){
      var html = '';
      html += '<h1>'+ (obj.toteutuksen_nimi || 'Toteutus') +'</h1>';
      html += '<figure class="media>'+
              '<img src="'+ obj.kuva +'" alt="Tietokoneluokka" referrerpolicy="no-referrer">'+
              '<figcaption class="credit">Kuva: <a href="'+ obj.kuva +'" target="_blank" rel="noopener">Wikimedia Commons - “School Computer Lab”</a>. Lisenssi: CC BY-SA 3.0.</figcaption>'+
            '</figure>';
      html += '<div class="meta">';
      html += '  <div class="box"><b>Osallistujia</b><br>'+ obj.osallistujat_lkm +' kpl</div>';
      html += '  <div class="box"><b>Aikaväli</b><br>'+ obj.aikavali +'</div>';
      html += '  <div class="box"><b>Kesto</b><br>'+ obj.kesto_viikkoina +' viikkoa</div>';
      html += '</div>';
      if(Array.isArray(obj.osallistujat)){
        html += '<h3>Osallistujat</h3><ul>';
        for(var i=0;i<obj.osallistujat.length;i++){
          html += '<li>'+ obj.osallistujat[i] +'</li>';
        }
        html += '</ul>';
      }
      document.getElementById('vastaus').innerHTML = html;
    }
  </script>
</body>
</html>
